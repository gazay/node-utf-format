// U+1D400 - U+1D433
const BOLD = {
  a: 'ğš', b: 'ğ›', c: 'ğœ', d: 'ğ', e: 'ğ', f: 'ğŸ', g: 'ğ ', h: 'ğ¡', i: 'ğ¢', j: 'ğ£',
  k: 'ğ¤', l: 'ğ¥', m: 'ğ¦', n: 'ğ§', o: 'ğ¨', p: 'ğ©', q: 'ğª', r: 'ğ«', s: 'ğ¬', t: 'ğ­',
  u: 'ğ®', v: 'ğ¯', w: 'ğ°', x: 'ğ±', y: 'ğ²', z: 'ğ³',
  A: 'ğ€', B: 'ğ', C: 'ğ‚', D: 'ğƒ', E: 'ğ„', F: 'ğ…', G: 'ğ†', H: 'ğ‡', I: 'ğˆ', J: 'ğ‰',
  K: 'ğŠ', L: 'ğ‹', M: 'ğŒ', N: 'ğ', O: 'ğ', P: 'ğ', Q: 'ğ', R: 'ğ‘', S: 'ğ’', T: 'ğ“',
  U: 'ğ”', V: 'ğ•', W: 'ğ–', X: 'ğ—', Y: 'ğ˜', Z: 'ğ™',
  // U+1D7CE - U+1D7D7
  0: 'ğŸ', 1: 'ğŸ', 2: 'ğŸ', 3: 'ğŸ‘', 4: 'ğŸ’', 5: 'ğŸ“', 6: 'ğŸ”', 7: 'ğŸ•', 8: 'ğŸ–', 9: 'ğŸ—',
};

// U+1D434 - U+1D467
const ITALIC = {
  a: 'ğ‘', b: 'ğ‘', c: 'ğ‘', d: 'ğ‘‘', e: 'ğ‘’', f: 'ğ‘“', g: 'ğ‘”', h: 'ğ’‰', i: 'ğ‘–', j: 'ğ‘—',
  k: 'ğ‘˜', l: 'ğ‘™', m: 'ğ‘š', n: 'ğ‘›', o: 'ğ‘œ', p: 'ğ‘', q: 'ğ‘', r: 'ğ‘Ÿ', s: 'ğ‘ ', t: 'ğ‘¡',
  u: 'ğ‘¢', v: 'ğ‘£', w: 'ğ‘¤', x: 'ğ‘¥', y: 'ğ‘¦', z: 'ğ‘§',
  A: 'ğ´', B: 'ğµ', C: 'ğ¶', D: 'ğ·', E: 'ğ¸', F: 'ğ¹', G: 'ğº', H: 'ğ»', I: 'ğ¼', J: 'ğ½',
  K: 'ğ¾', L: 'ğ¿', M: 'ğ‘€', N: 'ğ‘', O: 'ğ‘‚', P: 'ğ‘ƒ', Q: 'ğ‘„', R: 'ğ‘…', S: 'ğ‘†', T: 'ğ‘‡',
  U: 'ğ‘ˆ', V: 'ğ‘‰', W: 'ğ‘Š', X: 'ğ‘‹', Y: 'ğ‘Œ', Z: 'ğ‘',
  // Normal numbers
  0: '0', 1: '1', 2: '2', 3: '3', 4: '4', 5: '5', 6: '6', 7: '7', 8: '8', 9: '9',
};

// U+1D468 - U+1D49B
const BOLD_ITALIC = {
  a: 'ğ’‚', b: 'ğ’ƒ', c: 'ğ’„', d: 'ğ’…', e: 'ğ’†', f: 'ğ’‡', g: 'ğ’ˆ', h: 'ğ’‰', i: 'ğ’Š', j: 'ğ’‹',
  k: 'ğ’Œ', l: 'ğ’', m: 'ğ’', n: 'ğ’', o: 'ğ’', p: 'ğ’‘', q: 'ğ’’', r: 'ğ’“', s: 'ğ’”', t: 'ğ’•',
  u: 'ğ’–', v: 'ğ’—', w: 'ğ’˜', x: 'ğ’™', y: 'ğ’š', z: 'ğ’›',
  A: 'ğ‘¨', B: 'ğ‘©', C: 'ğ‘ª', D: 'ğ‘«', E: 'ğ‘¬', F: 'ğ‘­', G: 'ğ‘®', H: 'ğ‘¯', I: 'ğ‘°', J: 'ğ‘±',
  K: 'ğ‘²', L: 'ğ‘³', M: 'ğ‘´', N: 'ğ‘µ', O: 'ğ‘¶', P: 'ğ‘·', Q: 'ğ‘¸', R: 'ğ‘¹', S: 'ğ‘º', T: 'ğ‘»',
  U: 'ğ‘¼', V: 'ğ‘½', W: 'ğ‘¾', X: 'ğ‘¿', Y: 'ğ’€', Z: 'ğ’',
  // U+1D7CE - U+1D7D7
  0: 'ğŸ', 1: 'ğŸ', 2: 'ğŸ', 3: 'ğŸ‘', 4: 'ğŸ’', 5: 'ğŸ“', 6: 'ğŸ”', 7: 'ğŸ•', 8: 'ğŸ–', 9: 'ğŸ—',
};

// U+1D4D0 - U+1D503
const BOLD_SCRIPT = {
  a: 'ğ“ª', b: 'ğ“«', c: 'ğ“¬', d: 'ğ“­', e: 'ğ“®', f: 'ğ“¯', g: 'ğ“°', h: 'ğ“±', i: 'ğ“²', j: 'ğ“³',
  k: 'ğ“´', l: 'ğ“µ', m: 'ğ“¶', n: 'ğ“·', o: 'ğ“¸', p: 'ğ“¹', q: 'ğ“º', r: 'ğ“»', s: 'ğ“¼', t: 'ğ“½',
  u: 'ğ“¾', v: 'ğ“¿', w: 'ğ”€', x: 'ğ”', y: 'ğ”‚', z: 'ğ”ƒ',
  A: 'ğ“', B: 'ğ“‘', C: 'ğ“’', D: 'ğ““', E: 'ğ“”', F: 'ğ“•', G: 'ğ“–', H: 'ğ“—', I: 'ğ“˜', J: 'ğ“™',
  K: 'ğ“š', L: 'ğ“›', M: 'ğ“œ', N: 'ğ“', O: 'ğ“', P: 'ğ“Ÿ', Q: 'ğ“ ', R: 'ğ“¡', S: 'ğ“¢', T: 'ğ“£',
  U: 'ğ“¤', V: 'ğ“¥', W: 'ğ“¦', X: 'ğ“§', Y: 'ğ“¨', Z: 'ğ“©',
  // U+1D7CE - U+1D7D7
  0: 'ğŸ', 1: 'ğŸ', 2: 'ğŸ', 3: 'ğŸ‘', 4: 'ğŸ’', 5: 'ğŸ“', 6: 'ğŸ”', 7: 'ğŸ•', 8: 'ğŸ–', 9: 'ğŸ—',
};

// U+1D5A0 - U+1D5D3
const SS_REGULAR = {
  A: 'ğ– ', B: 'ğ–¡', C: 'ğ–¢', D: 'ğ–£', E: 'ğ–¤', F: 'ğ–¥', G: 'ğ–¦', H: 'ğ–§', I: 'ğ–¨', J: 'ğ–©',
  K: 'ğ–ª', L: 'ğ–«', M: 'ğ–¬', N: 'ğ–­', O: 'ğ–®', P: 'ğ–¯', Q: 'ğ–°', R: 'ğ–±', S: 'ğ–²', T: 'ğ–³',
  U: 'ğ–´', V: 'ğ–µ', W: 'ğ–¶', X: 'ğ–·', Y: 'ğ–¸', Z: 'ğ–¹',
  a: 'ğ–º', b: 'ğ–»', c: 'ğ–¼', d: 'ğ–½', e: 'ğ–¾', f: 'ğ–¿', g: 'ğ—€', h: 'ğ—', i: 'ğ—‚', j: 'ğ—ƒ',
  k: 'ğ—„', l: 'ğ—…', m: 'ğ—†', n: 'ğ—‡', o: 'ğ—ˆ', p: 'ğ—‰', q: 'ğ—Š', r: 'ğ—‹', s: 'ğ—Œ', t: 'ğ—',
  u: 'ğ—', v: 'ğ—', w: 'ğ—', x: 'ğ—‘', y: 'ğ—’', z: 'ğ—“',
  // U+1D7E2 - U+1D7EB
  0: 'ğŸ¢', 1: 'ğŸ£', 2: 'ğŸ¤', 3: 'ğŸ¥', 4: 'ğŸ¦', 5: 'ğŸ§', 6: 'ğŸ¨', 7: 'ğŸ©', 8: 'ğŸª', 9: 'ğŸ«',
};

// U+1D5D4 - U+1D607
const SS_BOLD = {
  A: 'ğ—”', B: 'ğ—•', C: 'ğ—–', D: 'ğ——', E: 'ğ—˜', F: 'ğ—™', G: 'ğ—š', H: 'ğ—›', I: 'ğ—œ', J: 'ğ—',
  K: 'ğ—', L: 'ğ—Ÿ', M: 'ğ— ', N: 'ğ—¡', O: 'ğ—¢', P: 'ğ—£', Q: 'ğ—¤', R: 'ğ—¥', S: 'ğ—¦', T: 'ğ—§',
  U: 'ğ—¨', V: 'ğ—©', W: 'ğ—ª', X: 'ğ—«', Y: 'ğ—¬', Z: 'ğ—­',
  a: 'ğ—®', b: 'ğ—¯', c: 'ğ—°', d: 'ğ—±', e: 'ğ—²', f: 'ğ—³', g: 'ğ—´', h: 'ğ—µ', i: 'ğ—¶', j: 'ğ—·',
  k: 'ğ—¸', l: 'ğ—¹', m: 'ğ—º', n: 'ğ—»', o: 'ğ—¼', p: 'ğ—½', q: 'ğ—¾', r: 'ğ—¿', s: 'ğ˜€', t: 'ğ˜',
  u: 'ğ˜‚', v: 'ğ˜ƒ', w: 'ğ˜„', x: 'ğ˜…', y: 'ğ˜†', z: 'ğ˜‡',
  // U+1D7EC - U+1D7F5
  0: 'ğŸ¬', 1: 'ğŸ­', 2: 'ğŸ®', 3: 'ğŸ¯', 4: 'ğŸ°', 5: 'ğŸ±', 6: 'ğŸ²', 7: 'ğŸ³', 8: 'ğŸ´', 9: 'ğŸµ',
};

// U+1D608 - U+1D63B
const SS_ITALIC = {
  A: 'ğ˜ˆ', B: 'ğ˜‰', C: 'ğ˜Š', D: 'ğ˜‹', E: 'ğ˜Œ', F: 'ğ˜', G: 'ğ˜', H: 'ğ˜', I: 'ğ˜', J: 'ğ˜‘',
  K: 'ğ˜’', L: 'ğ˜“', M: 'ğ˜”', N: 'ğ˜•', O: 'ğ˜–', P: 'ğ˜—', Q: 'ğ˜˜', R: 'ğ˜™', S: 'ğ˜š', T: 'ğ˜›',
  U: 'ğ˜œ', V: 'ğ˜', W: 'ğ˜', X: 'ğ˜Ÿ', Y: 'ğ˜ ', Z: 'ğ˜¡',
  a: 'ğ˜¢', b: 'ğ˜£', c: 'ğ˜¤', d: 'ğ˜¥', e: 'ğ˜¦', f: 'ğ˜§', g: 'ğ˜¨', h: 'ğ˜©', i: 'ğ˜ª', j: 'ğ˜«',
  k: 'ğ˜¬', l: 'ğ˜­', m: 'ğ˜®', n: 'ğ˜¯', o: 'ğ˜°', p: 'ğ˜±', q: 'ğ˜²', r: 'ğ˜³', s: 'ğ˜´', t: 'ğ˜µ',
  u: 'ğ˜¶', v: 'ğ˜·', w: 'ğ˜¸', x: 'ğ˜¹', y: 'ğ˜º', z: 'ğ˜»',
  // U+1D7E2 - U+1D7EB
  0: 'ğŸ¢', 1: 'ğŸ£', 2: 'ğŸ¤', 3: 'ğŸ¥', 4: 'ğŸ¦', 5: 'ğŸ§', 6: 'ğŸ¨', 7: 'ğŸ©', 8: 'ğŸª', 9: 'ğŸ«',
};

// U+1D63C - U+1D66F
const SS_BOLD_ITALIC = {
  A: 'ğ˜¼', B: 'ğ˜½', C: 'ğ˜¾', D: 'ğ˜¿', E: 'ğ™€', F: 'ğ™', G: 'ğ™‚', H: 'ğ™ƒ', I: 'ğ™„', J: 'ğ™…',
  K: 'ğ™†', L: 'ğ™‡', M: 'ğ™ˆ', N: 'ğ™‰', O: 'ğ™Š', P: 'ğ™‹', Q: 'ğ™Œ', R: 'ğ™', S: 'ğ™', T: 'ğ™',
  U: 'ğ™', V: 'ğ™‘', W: 'ğ™’', X: 'ğ™“', Y: 'ğ™”', Z: 'ğ™•',
  a: 'ğ™–', b: 'ğ™—', c: 'ğ™˜', d: 'ğ™™', e: 'ğ™š', f: 'ğ™›', g: 'ğ™œ', h: 'ğ™', i: 'ğ™', j: 'ğ™Ÿ',
  k: 'ğ™ ', l: 'ğ™¡', m: 'ğ™¢', n: 'ğ™£', o: 'ğ™¤', p: 'ğ™¥', q: 'ğ™¦', r: 'ğ™§', s: 'ğ™¨', t: 'ğ™©',
  u: 'ğ™ª', v: 'ğ™«', w: 'ğ™¬', x: 'ğ™­', y: 'ğ™®', z: 'ğ™¯',
  // U+1D7EC - U+1D7F5
  0: 'ğŸ¬', 1: 'ğŸ­', 2: 'ğŸ®', 3: 'ğŸ¯', 4: 'ğŸ°', 5: 'ğŸ±', 6: 'ğŸ²', 7: 'ğŸ³', 8: 'ğŸ´', 9: 'ğŸµ',
};

// U+1D670 - U+1D6A3
const MONOSPACE = {
  A: 'ğ™°', B: 'ğ™±', C: 'ğ™²', D: 'ğ™³', E: 'ğ™´', F: 'ğ™µ', G: 'ğ™¶', H: 'ğ™·', I: 'ğ™¸', J: 'ğ™¹',
  K: 'ğ™º', L: 'ğ™»', M: 'ğ™¼', N: 'ğ™½', O: 'ğ™¾', P: 'ğ™¿', Q: 'ğš€', R: 'ğš', S: 'ğš‚', T: 'ğšƒ',
  U: 'ğš„', V: 'ğš…', W: 'ğš†', X: 'ğš‡', Y: 'ğšˆ', Z: 'ğš‰',
  a: 'ğšŠ', b: 'ğš‹', c: 'ğšŒ', d: 'ğš', e: 'ğš', f: 'ğš', g: 'ğš', h: 'ğš‘', i: 'ğš’', j: 'ğš“',
  k: 'ğš”', l: 'ğš•', m: 'ğš–', n: 'ğš—', o: 'ğš˜', p: 'ğš™', q: 'ğšš', r: 'ğš›', s: 'ğšœ', t: 'ğš',
  u: 'ğš', v: 'ğšŸ', w: 'ğš ', x: 'ğš¡', y: 'ğš¢', z: 'ğš£',
  // U+1D7F6 - U+1D7FF
  0: 'ğŸ¶', 1: 'ğŸ·', 2: 'ğŸ¸', 3: 'ğŸ¹', 4: 'ğŸº', 5: 'ğŸ»', 6: 'ğŸ¼', 7: 'ğŸ½', 8: 'ğŸ¾', 9: 'ğŸ¿',
};

const FULL_WIDTH = {
  A: 'ï¼¡', B: 'ï¼¢', C: 'ï¼£', D: 'ï¼¤', E: 'ï¼¥', F: 'ï¼¦', G: 'ï¼§', H: 'ï¼¨', I: 'ï¼©',
  J: 'ï¼ª', K: 'ï¼«', L: 'ï¼¬', M: 'ï¼­', N: 'ï¼®', O: 'ï¼¯', P: 'ï¼°', Q: 'ï¼±', R: 'ï¼²',
  S: 'ï¼³', T: 'ï¼´', U: 'ï¼µ', V: 'ï¼¶', W: 'ï¼·', X: 'ï¼¸', Y: 'ï¼¹', Z: 'ï¼º',
  a: 'ï½', b: 'ï½‚', c: 'ï½ƒ', d: 'ï½„', e: 'ï½…', f: 'ï½†', g: 'ï½‡', h: 'ï½ˆ', i: 'ï½‰',
  j: 'ï½Š', k: 'ï½‹', l: 'ï½Œ', m: 'ï½', n: 'ï½', o: 'ï½', p: 'ï½', q: 'ï½‘', r: 'ï½’',
  s: 'ï½“', t: 'ï½”', u: 'ï½•', v: 'ï½–', w: 'ï½—', x: 'ï½˜', y: 'ï½™', z: 'ï½š',
  0: 'ï¼', 1: 'ï¼‘', 2: 'ï¼’', 3: 'ï¼“', 4: 'ï¼”', 5: 'ï¼•', 6: 'ï¼–', 7: 'ï¼—', 8: 'ï¼˜',
  9: 'ï¼™',
  '!': 'ï¼', '"': 'ï¼‚', '#': 'ï¼ƒ', $: 'ï¼„', '%': 'ï¼…', '&': 'ï¼†', '\'': 'ï¼‡',
  '(': 'ï¼ˆ', ')': 'ï¼‰', '*': 'ï¼Š', '+': 'ï¼‹', ',': 'ï¼Œ', '-': 'ï¼', '.': 'ï¼',
  '/': 'ï¼', ':': 'ï¼š', ';': 'ï¼›', '<': 'ï¼œ', '=': 'ï¼', '>': 'ï¼', '?': 'ï¼Ÿ',
  '@': 'ï¼ ', '[': 'ï¼»', '\\': 'ï¼¼', ']': 'ï¼½', '^': 'ï¼¾', _: 'ï¼¿', '`': 'ï½€',
  '{': 'ï½›', '|': 'ï½œ', '}': 'ï½', '~': 'ï½', ' ': '  ',
};

const SQUARED = {
  A: 'ğŸ„°', B: 'ğŸ„±', C: 'ğŸ„²', D: 'ğŸ„³', E: 'ğŸ„´', F: 'ğŸ„µ', G: 'ğŸ„¶', H: 'ğŸ„·', I: 'ğŸ„¸', J: 'ğŸ„¹',
  K: 'ğŸ„º', L: 'ğŸ„»', M: 'ğŸ„¼', N: 'ğŸ„½', O: 'ğŸ„¾', P: 'ğŸ„¿', Q: 'ğŸ…€', R: 'ğŸ…', S: 'ğŸ…‚', T: 'ğŸ…ƒ',
  U: 'ğŸ…„', V: 'ğŸ……', W: 'ğŸ…†', X: 'ğŸ…‡', Y: 'ğŸ…ˆ', Z: 'ğŸ…‰',
  a: 'ğŸ„°', b: 'ğŸ„±', c: 'ğŸ„²', d: 'ğŸ„³', e: 'ğŸ„´', f: 'ğŸ„µ', g: 'ğŸ„¶', h: 'ğŸ„·', i: 'ğŸ„¸', j: 'ğŸ„¹',
  k: 'ğŸ„º', l: 'ğŸ„»', m: 'ğŸ„¼', n: 'ğŸ„½', o: 'ğŸ„¾', p: 'ğŸ„¿', q: 'ğŸ…€', r: 'ğŸ…', s: 'ğŸ…‚', t: 'ğŸ…ƒ',
  u: 'ğŸ…„', v: 'ğŸ……', w: 'ğŸ…†', x: 'ğŸ…‡', y: 'ğŸ…ˆ', z: 'ğŸ…‰',
};

const CIRCLED = {
  A: 'â’¶', B: 'â’·', C: 'â’¸', D: 'â’¹', E: 'â’º', F: 'â’»', G: 'â’¼', H: 'â’½', I: 'â’¾', J: 'â’¿',
  K: 'â“€', L: 'â“', M: 'â“‚', N: 'â“ƒ', O: 'â“„', P: 'â“…', Q: 'â“†', R: 'â“‡', S: 'â“ˆ', T: 'â“‰',
  U: 'â“Š', V: 'â“‹', W: 'â“Œ', X: 'â“', Y: 'â“', Z: 'â“',
  a: 'â“', b: 'â“‘', c: 'â“’', d: 'â““', e: 'â“”', f: 'â“•', g: 'â“–', h: 'â“—', i: 'â“˜', j: 'â“™',
  k: 'â“š', l: 'â“›', m: 'â“œ', n: 'â“', o: 'â“', p: 'â“Ÿ', q: 'â“ ', r: 'â“¡', s: 'â“¢', t: 'â“£',
  u: 'â“¤', v: 'â“¥', w: 'â“¦', x: 'â“§', y: 'â“¨', z: 'â“©',
  1: 'â‘ ', 2: 'â‘¡', 3: 'â‘¢', 4: 'â‘£', 5: 'â‘¤', 6: 'â‘¥', 7: 'â‘¦', 8: 'â‘§', 9: 'â‘¨', 0: 'â“ª',
};

const SMALL_CAPS = {
  A: 'á´€', B: 'Ê™', C: 'á´„', D: 'á´…', E: 'á´‡', F: 'F', G: 'É¢', H: 'Êœ', I: 'Éª', J: 'á´Š',
  K: 'á´‹', L: 'ÊŸ', M: 'á´', N: 'É´', O: 'á´', P: 'á´©', Q: 'q', R: 'Ê€', S: 's', T: 'á´›',
  U: 'á´œ', V: 'á´ ', W: 'á´¡', X: 'x', Y: 'Y', Z: 'á´¢',
  a: 'á´€', b: 'Ê™', c: 'á´„', d: 'á´…', e: 'á´‡', f: 'F', g: 'É¢', h: 'Êœ', i: 'Éª', j: 'á´Š',
  k: 'á´‹', l: 'ÊŸ', m: 'á´', n: 'É´', o: 'á´', p: 'á´©', q: 'q', r: 'Ê€', s: 's', t: 'á´›',
  u: 'á´œ', v: 'á´ ', w: 'á´¡', x: 'x', y: 'y', z: 'á´¢',
};

const REGIONAL = {
  A: 'ğŸ‡¦â€‹', B: 'ğŸ‡§â€‹', C: 'ğŸ‡¨â€‹', D: 'ğŸ‡©â€‹', E: 'ğŸ‡ªâ€‹', F: 'ğŸ‡«â€‹',
  G: 'ğŸ‡¬â€‹', H: 'ğŸ‡­â€‹', I: 'ğŸ‡®â€‹', J: 'ğŸ‡¯â€‹', K: 'ğŸ‡°â€‹', L: 'ğŸ‡±â€‹',
  M: 'ğŸ‡²â€‹', N: 'ğŸ‡³â€‹', O: 'ğŸ‡´â€‹', P: 'ğŸ‡µâ€‹', Q: 'ğŸ‡¶â€‹', R: 'ğŸ‡·â€‹',
  S: 'ğŸ‡¸â€‹', T: 'ğŸ‡¹â€‹', U: 'ğŸ‡ºâ€‹', V: 'ğŸ‡»â€‹', W: 'ğŸ‡¼â€‹', X: 'ğŸ‡½â€‹',
  Y: 'ğŸ‡¾â€‹', Z: 'ğŸ‡¿â€‹',
  a: 'ğŸ‡¦â€‹', b: 'ğŸ‡§â€‹', c: 'ğŸ‡¨â€‹', d: 'ğŸ‡©â€‹', e: 'ğŸ‡ªâ€‹', f: 'ğŸ‡«â€‹',
  g: 'ğŸ‡¬â€‹', h: 'ğŸ‡­â€‹', i: 'ğŸ‡®â€‹', j: 'ğŸ‡¯â€‹', k: 'ğŸ‡°â€‹', l: 'ğŸ‡±â€‹',
  m: 'ğŸ‡²â€‹', n: 'ğŸ‡³â€‹', o: 'ğŸ‡´â€‹', p: 'ğŸ‡µâ€‹', q: 'ğŸ‡¶â€‹', r: 'ğŸ‡·â€‹',
  s: 'ğŸ‡¸â€‹', t: 'ğŸ‡¹â€‹', u: 'ğŸ‡ºâ€‹', v: 'ğŸ‡»â€‹', w: 'ğŸ‡¼â€‹', x: 'ğŸ‡½â€‹',
  y: 'ğŸ‡¾â€‹', z: 'ğŸ‡¿â€‹',
};

const AVAILABLE_TYPES = {
  // Supported only on mac as I know
  b: BOLD,
  i: ITALIC,
  bi: BOLD_ITALIC,
  m: MONOSPACE,
  ss: SS_REGULAR,
  ssb: SS_BOLD,
  ssi: SS_ITALIC,
  ssbi: SS_BOLD_ITALIC,
  bs: BOLD_SCRIPT,
  // Supported everywhere
  fw: FULL_WIDTH,
  sq: SQUARED,
  sc: SMALL_CAPS,
  ci: CIRCLED,
  rg: REGIONAL,
};

function formatAll(text, formatter) {
  const res = text.split('').map(ch => (formatter[ch] || ch));
  return res.join('');
}

function formatPart(part, type, symbolRegex, font) {
  const result = [];
  if (font === 'ss' && type !== 'm') {
    result.push(formatAll(part, AVAILABLE_TYPES.ss));
    result.push(formatAll(part.replace(symbolRegex, ''), AVAILABLE_TYPES[`ss${type}`]));
  } else {
    result.push(part);
    result.push(formatAll(part.replace(symbolRegex, ''), AVAILABLE_TYPES[type]));
  }
  return result;
}

function markdownParser(text, font) {
  let result = text;
  let bold = text.match(/(\*[^\*]+\*)/g);
  if (bold) {
    bold = bold.map(b => formatPart(b, 'b', /\*/g, font));
  }
  let mono = text.match(/(`[^`]+`)|(```[^`]+```)/g);
  if (mono) {
    mono = mono.map(m => formatPart(m, 'm', /`/g, font));
  }
  let italic = text.match(/(_[^_]+_)/g);
  if (italic) {
    italic = italic.map(i => formatPart(i, 'i', /_/g, font));
  }
  if (font === 'ss') {
    result = formatAll(result, AVAILABLE_TYPES.ss);
  }
  if (bold) {
    bold.forEach(repl => {
      result = result.replace(repl[0], repl[1]);
    });
  }
  if (mono) {
    mono.forEach(repl => {
      result = result.replace(repl[0], repl[1]);
    });
  }
  if (italic) {
    italic.forEach(repl => {
      result = result.replace(repl[0], repl[1]);
    });
  }
  return result;
}

function markdownCompatibleParser(text) {
  let result = text;
  let bold = text.match(/(\*[^\*]+\*)|(_[^_]+_)|(`[^`]+`)|(```[^`]+```)/g);
  if (bold) {
    bold = bold.map(b => formatPart(b, 'sc', /\*|_|`/g));
  }
  let reg = text.match(/(~[^~]+~)/g);
  if (reg) {
    reg = reg.map(r => formatPart(r, 'rg', /~/g));
  }
  let squared = text.match(/(\[\][^\[]+\[\])/g);
  if (squared) {
    squared = squared.map(i => formatPart(i, 'sq', /\[\]/g));
  }
  let circled = text.match(/(\(\)[^\(]+\(\))/g);
  if (circled) {
    circled = circled.map(i => formatPart(i, 'ci', /\(\)/g));
  }
  if (bold) {
    bold.forEach(repl => {
      result = result.replace(repl[0], repl[1]);
    });
  }
  if (reg) {
    reg.forEach(repl => {
      result = result.replace(repl[0], repl[1]);
    });
  }
  if (squared) {
    squared.forEach(repl => {
      result = result.replace(repl[0], repl[1]);
    });
  }
  if (circled) {
    circled.forEach(repl => {
      result = result.replace(repl[0], repl[1]);
    });
  }
  return result;
}

const AVAILABLE_PARSERS = {
  md: markdownParser,
  mdc: markdownCompatibleParser,
};

function format(text, opts = {}) {
  const formatter = AVAILABLE_TYPES[opts.to];
  const parser = AVAILABLE_PARSERS[opts.parser];
  if (formatter) {
    return formatAll(text, formatter);
  } else if (parser) {
    return parser(text, opts.font);
  }
  return markdownCompatibleParser(text, opts.font);
}

module.exports = {
  format: format,
};
